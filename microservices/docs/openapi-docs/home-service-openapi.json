{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8084","description":"Generated server url"}],"paths":{"/api/home/{homeUuid}/guests/{guestUuid}/devices":{"put":{"tags":["home-controller"],"operationId":"updateGuestDeviceRights","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"guestUuid","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GuestDeviceRightsDTO"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home":{"get":{"tags":["home-controller"],"operationId":"getHomesForCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HomeDTO"}}}}}}},"post":{"tags":["home-controller"],"operationId":"createHome","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"address","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HomeDTO"}}}}}}},"/api/home/{homeUuid}/guests":{"get":{"tags":["home-controller"],"operationId":"getHomeGuests","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GuestDTO"}}}}}}},"post":{"tags":["home-controller"],"operationId":"addHomeGuest","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddGuestRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}/devices":{"get":{"tags":["home-controller"],"operationId":"getHomeDevices","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeviceDTO"}}}}}}},"post":{"tags":["home-controller"],"operationId":"addDeviceToHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDeviceRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}/admins":{"get":{"tags":["home-controller"],"operationId":"getHomeAdmins","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminDTO"}}}}}}},"post":{"tags":["home-controller"],"operationId":"addHomeAdmin","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}":{"get":{"tags":["home-controller"],"operationId":"getHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HomeDTO"}}}}}},"delete":{"tags":["home-controller"],"operationId":"deleteHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}/guest/{userUuid}":{"get":{"tags":["home-controller"],"operationId":"isUserGuestOfHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"userUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/home/{homeUuid}/admin/{userUuid}":{"get":{"tags":["home-controller"],"operationId":"isUserAdminOfHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"userUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/home/user/{userUuid}":{"get":{"tags":["home-controller"],"operationId":"getHomesForUser","parameters":[{"name":"userUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HomeDTO"}}}}}}}},"/api/home/{homeUuid}/guests/{guestUuid}":{"delete":{"tags":["home-controller"],"operationId":"removeHomeGuest","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"guestUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}/devices/{deviceUuid}":{"delete":{"tags":["home-controller"],"operationId":"unlinkDeviceFromHome","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"deviceUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/home/{homeUuid}/admins/{adminUuid}":{"delete":{"tags":["home-controller"],"operationId":"removeHomeAdmin","parameters":[{"name":"homeUuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"adminUuid","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"GuestDeviceRightsDTO":{"type":"object","properties":{"deviceId":{"type":"string"},"rights":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["VIEW_IMAGES","VIEW_LIVE_STREAM","VIEW_NOTIFICATIONS","UNLOCK_DOOR","ENROLL_FINGERPRINT","DELETE_FINGERPRINT","ENROLL_FACE","DELETE_FACE","ENROLL_RFID","DELETE_RFID","VIEW_DEVICE_INFO","VIEW_DEVICE_SETTINGS"]}}}},"DeviceDTO":{"type":"object","properties":{"uuid":{"type":"string"},"name":{"type":"string"},"deviceType":{"type":"string"},"description":{"type":"string"},"hardwareId":{"type":"string"},"status":{"type":"string","enum":["ONLINE","OFFLINE","UNKNOWN"]},"homeUuid":{"type":"string"}}},"HomeDTO":{"type":"object","properties":{"uuid":{"type":"string"},"name":{"type":"string"},"address":{"type":"string"},"devices":{"type":"array","items":{"$ref":"#/components/schemas/DeviceDTO"}},"deviceUuids":{"type":"array","items":{"type":"string"}},"adminUuids":{"type":"array","items":{"type":"string"}},"guests":{"type":"array","items":{"$ref":"#/components/schemas/HomeGuestDTO"}}}},"HomeGuestDTO":{"type":"object","properties":{"uuid":{"type":"string"},"userUuid":{"type":"string"},"homeUuid":{"type":"string"}}},"AddGuestRequestDTO":{"required":["deviceRights","email"],"type":"object","properties":{"email":{"type":"string"},"deviceRights":{"type":"array","items":{"$ref":"#/components/schemas/GuestDeviceRightsDTO"}}}},"CreateDeviceRequestDTO":{"required":["description","hardwareId","name"],"type":"object","properties":{"name":{"type":"string"},"deviceType":{"type":"string"},"description":{"type":"string"},"hardwareId":{"type":"string"}}},"GuestDTO":{"type":"object","properties":{"uuid":{"type":"string"},"email":{"type":"string"},"devices":{"type":"array","items":{"$ref":"#/components/schemas/GuestDeviceRightsDTO"}}}},"AdminDTO":{"type":"object","properties":{"uuid":{"type":"string"},"email":{"type":"string"}}}}}}